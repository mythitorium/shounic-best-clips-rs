<!DOCTYPE html>
<html lang="en">
<head>
    <base href=".">
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <title>Sho's Clip Contest</title>
    <link rel="icon" href="icon.webp">

    <link rel="stylesheet" href="css/voting.css">
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/bold/style.css"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css"
    />

    <script defer type="module" src="js/sortablejs/Sortable.min.js"></script>
    <script defer src="js/voting.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1"></script>

    <script>
        if (localStorage.getItem('isDarkMode') === 'true') {
            document.documentElement.setAttribute('data-theme', 'dark');
        } else {
            document.documentElement.setAttribute('data-theme', 'light');
        }
    </script>
</head>
<body id="body">
    <div id="headerBox">
        <p>sho's 2025 TF2 clip contest</p>
        <button onclick="swapTheme()"><i class="ph ph-moon-stars" id="themeToggleIcon"></i></button>
    </div>
    <div id="stageBox">
        <div id="stage1Box" class="stageFlagDefault">
            <p>All</p>
            <p id="stage1TimeP"></p>
            <svg xmlns="http://www.w3.org/2000/svg">
                <polygon points="-1,0 -1,34 34,17" />
            </svg> 
        </div> 
        <div id="stage2Box" class="stageFlagDefault">
            <p>Top 5</p>
            <p id="stage2TimeP"></p>
            <svg xmlns="http://www.w3.org/2000/svg">
                <polygon points="-1,0 -1,34 34,17" />
            </svg> 
        </div>  
        <div id="stage3Box" class="stageFlagDefault">
            <p>Top 2</p>
            <p id="stage3TimeP"></p>
        </div>        
    </div>
    <p id="categoryHeaderBox">VOTING CATEGORIES</p>
    <div id="categorySelectionBox">
        <button id="category1Button" onclick="selectDesiredCategory(1, true)">Comedy</button>
        <button id="category2Button" onclick="selectDesiredCategory(2, true)">Skill</button>
        <button id="category0Button" onclick="selectDesiredCategory(0, true)" style="padding-right: 10px;" class="selected">ðŸŽ² Either</button>
    </div>
    <div id="categoryInfoBox" class="expanded">
        <p id="givenCategoryP"></p>
    </div>
    <div id="votingBox">
        <div id="votingBlock2Size" class="invisible">
            <div id="embedBoxLeft"><svg xmlns="http://www.w3.org/2000/svg" width="68" height="68" fill="#000000" viewBox="0 0 256 256"><path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14h64a6,6,0,0,0,5.69-4.1l15.12-45.36,37.42-15a6,6,0,0,0,3.34-3.34l15-37.42L225.9,93.69A6,6,0,0,0,230,88V56A14,14,0,0,0,216,42ZM117.77,154.43a6,6,0,0,0-3.46,3.67L99.68,202H40a2,2,0,0,1-2-2V171.17l52.58-52.58a2,2,0,0,1,2.83,0L126,151.15ZM218,83.68,174.1,98.31a6,6,0,0,0-3.67,3.46l-15.05,37.61L138.1,146.3l-36.2-36.2a14,14,0,0,0-19.8,0L38,154.2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Zm9.51,33.18a6,6,0,0,0-5.41-.82L198.3,124a6,6,0,0,0-3.67,3.47L180,164l-36.56,14.63A6,6,0,0,0,140,182.3L132,206.1a6,6,0,0,0,5.69,7.9H216a14,14,0,0,0,14-14V121.73A6,6,0,0,0,227.51,116.86ZM218,200a2,2,0,0,1-2,2H146.06l4.42-13.26,36.37-14.55a6,6,0,0,0,3.34-3.34l14.55-36.37L218,130.06Z"></path></svg></div>
            <div id="embedBoxRight"><svg xmlns="http://www.w3.org/2000/svg" width="68" height="68" fill="#000000" viewBox="0 0 256 256"><path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14h64a6,6,0,0,0,5.69-4.1l15.12-45.36,37.42-15a6,6,0,0,0,3.34-3.34l15-37.42L225.9,93.69A6,6,0,0,0,230,88V56A14,14,0,0,0,216,42ZM117.77,154.43a6,6,0,0,0-3.46,3.67L99.68,202H40a2,2,0,0,1-2-2V171.17l52.58-52.58a2,2,0,0,1,2.83,0L126,151.15ZM218,83.68,174.1,98.31a6,6,0,0,0-3.67,3.46l-15.05,37.61L138.1,146.3l-36.2-36.2a14,14,0,0,0-19.8,0L38,154.2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Zm9.51,33.18a6,6,0,0,0-5.41-.82L198.3,124a6,6,0,0,0-3.67,3.47L180,164l-36.56,14.63A6,6,0,0,0,140,182.3L132,206.1a6,6,0,0,0,5.69,7.9H216a14,14,0,0,0,14-14V121.73A6,6,0,0,0,227.51,116.86ZM218,200a2,2,0,0,1-2,2H146.06l4.42-13.26,36.37-14.55a6,6,0,0,0,3.34-3.34l14.55-36.37L218,130.06Z"></path></svg></div>
            <div><button disabled="true" id="voteButtonLeft" disabled="true" onclick="submitVote(0)">Vote A</button></div>
            <div><button disabled="true" id="voteButtonRight" disabled="true" onclick="submitVote(1)">Vote B</button></div>
        </div>
        <div id="votingBlock5Size" class="hidden">
            <div id="rankedListBox">
                    <div id="rankBox1" onclick="selectRankedVideo(0)"><div><i class="ph-bold ph-dots-six-vertical"></i></div><p></p><p></p><p id="rankLabel">1st</p></div>
                    <div id="rankBox2" onclick="selectRankedVideo(1)"><div><i class="ph-bold ph-dots-six-vertical"></i></div><p></p><p></p><p id="rankLabel">2nd</p></div>
                    <div id="rankBox3" onclick="selectRankedVideo(2)"><div><i class="ph-bold ph-dots-six-vertical"></i></div><p></p><p></p><p id="rankLabel">3rd</p></div>
                    <div id="rankBox4" onclick="selectRankedVideo(3)"><div><i class="ph-bold ph-dots-six-vertical"></i></div><p></p><p></p><p id="rankLabel">4th</p></div>
                    <div id="rankBox5" onclick="selectRankedVideo(4)"><div><i class="ph-bold ph-dots-six-vertical"></i></div><p></p><p></p><p id="rankLabel">5th</p></div>
            </div>
            <div id="rankedEmbedBox">
                <p id="rankedEmbedBoxMessage">Click on a clip on the left to view it</p>
                <svg id="rankedEmbedBoxSvg" class="hidden" xmlns="http://www.w3.org/2000/svg" width="68" height="68" fill="#000000" viewBox="0 0 256 256"><path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14h64a6,6,0,0,0,5.69-4.1l15.12-45.36,37.42-15a6,6,0,0,0,3.34-3.34l15-37.42L225.9,93.69A6,6,0,0,0,230,88V56A14,14,0,0,0,216,42ZM117.77,154.43a6,6,0,0,0-3.46,3.67L99.68,202H40a2,2,0,0,1-2-2V171.17l52.58-52.58a2,2,0,0,1,2.83,0L126,151.15ZM218,83.68,174.1,98.31a6,6,0,0,0-3.67,3.46l-15.05,37.61L138.1,146.3l-36.2-36.2a14,14,0,0,0-19.8,0L38,154.2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2Zm9.51,33.18a6,6,0,0,0-5.41-.82L198.3,124a6,6,0,0,0-3.67,3.47L180,164l-36.56,14.63A6,6,0,0,0,140,182.3L132,206.1a6,6,0,0,0,5.69,7.9H216a14,14,0,0,0,14-14V121.73A6,6,0,0,0,227.51,116.86ZM218,200a2,2,0,0,1-2,2H146.06l4.42-13.26,36.37-14.55a6,6,0,0,0,3.34-3.34l14.55-36.37L218,130.06Z"></path></svg>
            </div>
            <div><button id="rankedVoteButton" disabled="true" onclick="submitRankedVote()">Submit Vote</button></div>
        </div>
        <div id="votingBoxErrorBox" class="invisible">
            <p id="votingBoxErrorHeader">Nothing</p>
            <p id="votingBoxErrorText">Theres nothing to vote on at this time</p>
        </div>
    </div>
    <div id="errField"><p id="errFieldP"></p></div>
    <div id="infoAndHelpBox">
        <div>
            <p>FAQ:</p>
            <p>ðŸŸ¨ what do i do?</p>
            <p>ðŸŸ¦ of the two clips presented to you, watch them and simply pick the one you like better! repeat this for as much time as you have to help us sort through the massive pile of clips to get to a winner!</p>
            <p>ðŸŸ¨ how does the voting system work?</p>
            <p>ðŸŸ¦ for the 2 clips shown to you, it's just randomly picked. for the overall system to narrow down our pile of clips: after some time, the system will automatically remove clips from the pool that have winrates that are too poor, focusing votes on the winners and gathering more data to sort through the good from very good from extremely good. you can tell the system is running when the "current clip pool size" number written at the top changes. please return once in a while when things have shifted around to help us narrow a winner down!</p>
            <p>ðŸŸ¨ how will the finalists be picked?</p>
            <p>ðŸŸ¦ to make sure the winners are decided in the fairest way possible, the top 25 (? number may change) clips will be placed into a bracket and directly voted for on a livestream (time/date to be announced), which will ultimately decide which are the top 5 clips of 2024 of tf2 (officially) (objective fact)</p>
        </div>
    </div>
    <div id="mainErrorPane">
        <p id="mainErrorPaneHeader"></p>
        <p id="mainErrorPaneText"></p>
    </div>
</body>
</html>